== Introduction

This project is a collection of tools and libraries designed to facilitate the automation of Orange HRM application using the Playwright framework and its suite of tools. It includes various components such as:

- Test scripts for different user scenarios
- Page object models for better test organization
- Custom utilities for handling common tasks
- Integration with CI/CD pipelines for automated testing
- Documentation for setup and usage 


== Project Setup

The project is merely planned to be developed with the Playwright framework, which is a Node.js library for browser automation. It allows you to write tests that can run in multiple browsers, including Chromium, Firefox, and WebKit. It is designed to be fast, reliable, and easy to use, making it a great choice for end-to-end testing of web applications. The project is structured to support modular test development, allowing for easy addition and modification of test cases as the application evolves. Playwright supports various client libraries, including JavaScript, TypeScript, Python, C#, and Java, making it versatile for different development environments, but this project is focused on the JavaScript implementation.     

=== Prerequisites:

To set up the project, you will need to install the following tools/software in order to design and run the tests successfully.

- Node.js (Download it from here: https://nodejs.org/en/download/)
- Git (Download it from here: https://git-scm.com/downloads)
- GitHub CLI (Download it from here: https://cli.github.com/)
- Visual Studio Code (or any other code editor) (Download it from here: https://code.visualstudio.com/download).

Please verify the installations by running the following commands in your terminal to ensure that they are installed correctly.

- node --version
- npm --version
- git --version
- gh --version

== Clone the Repository from GitHub
To clone the repository, you can use the following command in your terminal:

gh repo clone <repository-url>

Replace `<repository-url>` with the actual URL of the repository you want to clone. This will create a local copy of the repository on your machine.

e.g.
gh repo clone QASCHOLARs/playwright-orangehrm-autosuite


== Install Dependencies
After cloning the repository, navigate to the project directory in your terminal and run the following command to install the necessary dependencies:

cd playwright-orangehrm-autosuite
- npm ci
- npx playwright install


== Additional Tools/Plugins

Steps to Add ESLint to Your Playwright Project
1. Install ESLint
Ensure you have Node.js installed, as Playwright and ESLint depend on it. Then, in your project directory, initialize ESLint and install it:
bashnpm init @eslint/config
This command will guide you through a setup wizard to configure ESLint. Answer the prompts based on your project needs. For a Playwright project with JavaScript, typical choices include:

How would you like to use ESLint? To check syntax, find problems, and enforce code style.
What type of modules does your project use? JavaScript modules (import/export) or CommonJS (require/exports), depending on your Playwright setup (Playwright typically uses ES modules).
Which framework does your project use? None (Playwright is not a framework like React or Vue).
Does your project use TypeScript? No (unless you're using TypeScript with Playwright).
Where does your code run? Node (since Playwright scripts run in a Node.js environment).
How would you like to define a style for your project? Use a popular style guide (e.g., Airbnb, Standard, or Google) or answer questions about your style preferences.
Which format for the config file? JavaScript, JSON, or YAML (JavaScript is common).
Install dependencies? Yes, let it install eslint and any necessary plugins.

This will create an .eslintrc.* configuration file (e.g., .eslintrc.js or .eslintrc.json) in your project.
2. Install Additional ESLint Plugins for Playwright
To ensure ESLint works well with Playwright, you may want to add plugins for Playwright-specific rules and Node.js environments. Install the Playwright ESLint plugin:
bashnpm install --save-dev eslint-plugin-playwright
Then, update your .eslintrc.* file to include the Playwright plugin. For example, if using .eslintrc.js:
javascriptmodule.exports = {
  env: {
    node: true, // For Node.js environment
    es2021: true, // For modern JavaScript features
  },
  extends: [
    'eslint:recommended', // Basic recommended rules
    'plugin:playwright/playwright', // Playwright-specific rules
  ],
  parserOptions: {
    ecmaVersion: 12, // ES2021
    sourceType: 'module', // For ES modules
  },
  rules: {
    // Add custom rules or override defaults here
    'playwright/no-wait-for-timeout': 'error', // Example Playwright rule
  },
};
3. Install VSCode ESLint Extension
To integrate ESLint with VSCode for real-time linting feedback:

Open VSCode.
Go to the Extensions view (Ctrl+Shift+X or Cmd+Shift+X on macOS).
Search for ESLint and install the official ESLint extension by Dirk Baeumer.
Once installed, the extension will automatically detect the .eslintrc.* file in your project and highlight linting issues in your code.

4. Add Linting Scripts to package.json
Add scripts to your package.json to run ESLint from the command line:
json{
  "scripts": {
    "lint": "eslint .",
    "lint:fix": "eslint . --fix"
  }
}

npm run lint: Runs ESLint to check for issues in all JavaScript files in your project.
npm run lint:fix: Attempts to automatically fix fixable issues (e.g., formatting).

5. Run ESLint
Test ESLint by running:
bashnpm run lint
This will scan your project files (e.g., *.js) and report any issues based on your configuration. If you want to automatically fix issues, run:
bashnpm run lint:fix
6. Configure VSCode Settings (Optional)
To enhance the ESLint experience in VSCode, you can add the following settings to your .vscode/settings.json file to enable auto-fixing on save and other features:
json{
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "eslint.validate": ["javascript"],
  "editor.defaultFormatter": "dbaeumer.vscode-eslint",
  "editor.formatOnSave": true
}

source.fixAll.eslint: Automatically fixes ESLint issues on save.
eslint.validate: Ensures ESLint checks JavaScript files.
editor.formatOnSave: Formats code on save using ESLint rules.

7. Ignore Files (Optional)
If you want ESLint to ignore certain files or directories (e.g., node_modules or Playwright's test-results folder), create an .eslintignore file in your project root and add:
textnode_modules/
test-results/
playwright-report/
8. Test Your Setup
Create or open a Playwright test file (e.g., tests/example.spec.js) and write some code. For example:
javascriptconst { test, expect } = require('@playwright/test');

test('example test', async ({ page }) => {
  await page.goto('https://example.com');
  const title = await page.title();
  expect(title).toBe('Example Domain');
});
Run npm run lint to check for issues. If you have the VSCode ESLint extension installed, you’ll see real-time feedback (e.g., squiggly lines under problematic code).
9. Add Playwright-Specific Rules
The eslint-plugin-playwright includes rules to catch common Playwright mistakes, such as:

playwright/no-wait-for-timeout: Prevents using page.waitForTimeout (anti-pattern).
playwright/missing-playwright-await: Ensures await is used with async Playwright methods.

You can customize these rules in the rules section of your .eslintrc.* file. For example:
javascriptrules: {
  'playwright/no-wait-for-timeout': 'warn',
  'playwright/missing-playwright-await': 'error'
}
10. Optional: Add Prettier for Code Formatting
If you want consistent code formatting alongside ESLint, you can integrate Prettier:

Install Prettier and related ESLint plugins:

bashnpm install --save-dev prettier eslint-config-prettier eslint-plugin-prettier

Update .eslintrc.js to include Prettier:

javascriptmodule.exports = {
  extends: [
    'eslint:recommended',
    'plugin:playwright/playwright',
    'plugin:prettier/recommended' // Add Prettier last
  ],
  rules: {
    'prettier/prettier': 'error' // Treat Prettier issues as ESLint errors
  }
};

Create a .prettierrc file for Prettier configuration (optional):

json{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "tabWidth": 2
}

Add a Prettier script to package.json:

json{
  "scripts": {
    "format": "prettier --write ."
  }
}
Run npm run format to format all files.

Additional Notes

Husky for Pre-Commit Linting: To enforce linting before commits, you can use Husky and lint-staged:

Install:
bashnpm install --save-dev husky lint-staged

Initialize Husky:
bashnpx husky init

Create a .husky/pre-commit file:
bashnpx lint-staged

Add lint-staged config to package.json:
json{
  "lint-staged": {
    "*.js": ["eslint --fix", "prettier --write"]
  }
}

Enable Husky:
bashnpm run prepare



Playwright-Specific Linting: The eslint-plugin-playwright is tailored for Playwright, so it’s highly recommended. Check its documentation for more rules: eslint-plugin-playwright.
VSCode Integration: The ESLint extension in VSCode will show errors and warnings in real-time, making it easier to fix issues as you code.
Debugging ESLint Issues: If ESLint isn’t working as expected, run npx eslint --debug to see detailed logs.


Example Project Structure
After setup, your project might look like this:
textyour-playwright-project/
├── node_modules/
├── tests/
│   └── example.spec.js
├── .eslintrc.js
├── .eslintignore
├── .prettierrc (optional)
├── .vscode/
│   └── settings.json
├── package.json
├── playwright.config.js

Running and Verifying

Run npm run lint to check all files.
Open a JavaScript file in VSCode to see real-time linting feedback.
Save a file to trigger auto-fixing (if configured).
Commit code to trigger Husky pre-commit linting (if set up).

This setup ensures your Playwright project has robust static code verification with ESLint, integrated seamlessly with VSCode. If you need help with specific rules, configurations, or troubleshooting, let me know!What type of issues that linter will detectA linter like ESLint, when configured for a JavaScript Playwright project, can detect a wide range of issues in your code. These issues fall into several categories, including syntax errors, potential bugs, code style violations, and Playwright-specific problems (when using eslint-plugin-playwright). Below is a breakdown of the types of issues ESLint can identify:

1. Syntax Errors
ESLint detects issues related to invalid JavaScript syntax that could prevent your code from running.


Examples:

Missing semicolons (if enforced by your style guide).
Incorrect use of reserved keywords (e.g., using class as a variable name).
Unclosed brackets, parentheses, or string literals.
Invalid ES module syntax (e.g., mixing require and import incorrectly).

Example:
javascriptconst name = "John // Missing closing quote
ESLint will flag: Parsing error: Unexpected token.



2. Potential Bugs
ESLint identifies code patterns that are likely to cause runtime errors or unexpected behavior.


Examples:

Using undeclared variables (e.g., no-undef rule).
Reassigning a const variable.
Using variables before they are defined (e.g., no-use-before-define).
Unreachable code after a return statement.
Incorrect use of equality operators (e.g., == instead of === with eqeqeq rule).

Example:
javascriptfunction test() {
  return;
  console.log("This is unreachable");
}
ESLint will flag: Unreachable code after return (no-unreachable).



3. Code Style Violations
ESLint enforces consistent coding style based on your configuration or a style guide (e.g., Airbnb, Standard). This improves readability and maintainability.


Examples:

Inconsistent indentation (e.g., mixing tabs and spaces with indent rule).
Missing or extra whitespace (e.g., no-extra-spaces).
Incorrect line breaks or trailing commas (e.g., comma-dangle).
Inconsistent use of single vs. double quotes (e.g., quotes rule).
Unnecessary semicolons or missing semicolons (e.g., semi).

Example:
javascriptconst foo = 'bar'  // Extra space
ESLint will flag: Extra whitespace after 'bar' (no-extra-spaces).



4. Playwright-Specific Issues
When using the eslint-plugin-playwright plugin, ESLint can catch issues specific to Playwright test scripts, ensuring best practices for test automation.

Examples:

Missing await for async Playwright methods (playwright/missing-playwright-await):
javascriptconst title = page.title(); // Missing await
ESLint will flag: Playwright methods must be awaited.
Using page.waitForTimeout (playwright/no-wait-for-timeout):
javascriptawait page.waitForTimeout(1000);
ESLint will flag: Avoid using page.waitForTimeout; use test.step or timeouts instead.
Incorrect test structure (e.g., missing test or expect imports from @playwright/test).
Using deprecated Playwright APIs (e.g., playwright/no-deprecated-methods).
Improper assertions (e.g., not using Playwright’s expect for assertions).




5. Best Practices and Code Quality
ESLint enforces coding best practices to make your code more robust and maintainable.


Examples:

Disallowing unused variables (no-unused-vars).
Enforcing consistent function naming conventions (func-names).
Preventing complex code with too many nested blocks (max-depth or complexity).
Avoiding console.log in production code (no-console).
Requiring strict equality checks (eqeqeq).

Example:
javascriptconst unusedVar = 42; // Variable declared but not used
ESLint will flag: unusedVar is defined but never used (no-unused-vars).



6. Security Issues
Some ESLint rules help identify potential security vulnerabilities.


Examples:

Detecting unsafe regular expressions that could lead to ReDoS (Regular Expression Denial of Service) (no-regex-spaces).
Flagging the use of eval or similar unsafe functions (no-eval).
Identifying unsafe dynamic code evaluation.

Example:
javascripteval("some code");
ESLint will flag: eval can be harmful (no-eval).



7. Formatting Issues (with Prettier Integration)
If you integrate Prettier with ESLint (using eslint-plugin-prettier and eslint-config-prettier), ESLint will also flag formatting inconsistencies.


Examples:

Inconsistent line lengths (max-len).
Improper spacing around operators or keywords.
Incorrect use of trailing commas or parentheses.

Example:
javascriptconst obj={name:"John"}; // Inconsistent spacing
ESLint (with Prettier) will flag: Replace {name:"John"}with{ name: "John" } (prettier/prettier).



8. Node.js and Environment-Specific Issues
Since Playwright runs in a Node.js environment, ESLint can detect issues specific to Node.js.


Examples:

Using Node.js globals (e.g., process) without declaring the Node environment (env: { node: true }).
Incorrect handling of Node.js modules or exports.
Missing error handling in async/await code (no-promise-executor-return).

Example:
javascriptconsole.log(process.env);
ESLint will flag (if node environment is not set): process is not defined (no-undef).



9. Custom Rules
You can define custom rules in your .eslintrc.* file to enforce project-specific conventions, such as:

Requiring specific comment formats for test cases.
Enforcing naming conventions for Playwright test files (e.g., *.spec.js).
Restricting certain Playwright APIs based on your team’s preferences.


How These Issues Appear

In VSCode: With the ESLint extension installed, issues are highlighted in real-time with squiggly lines (red for errors, yellow for warnings). Hovering over the issue shows details, and you can use quick fixes (e.g., Ctrl+.) for auto-fixes.
In Terminal: Running npm run lint outputs a list of issues with file names, line numbers, and rule names.
In CI/CD: If integrated into a CI pipeline (e.g., with Husky or GitHub Actions), linting failures can block commits or PRs.


Example of ESLint Output
Suppose you have this Playwright test:
javascriptconst { test } = require('@playwright/test');

test('bad test', async ({ page }) => {
  page.goto('https://example.com') // Missing await
  let x = 42; // Unused variable
  console.log('Debugging...') // Disallowed console
})
Running npm run lint might output:
texttests/example.spec.js
  3:3   error  Playwright methods must be awaited   playwright/missing-playwright-await
  4:7   error  x is defined but never used         no-unused-vars
  5:3   error  Unexpected console statement        no-console

✖ 3 problems (3 errors, 0 warnings)

Customizing Detection
You can configure ESLint rules in .eslintrc.* to control which issues are flagged (as errors, warnings, or ignored). For example:
javascriptrules: {
  'no-unused-vars': 'error', // Treat unused variables as errors
  'no-console': 'warn', // Treat console.log as warnings
  'playwright/missing-playwright-await': 'error', // Enforce await for Playwright
  'max-len': ['error', { code: 80 }], // Limit line length to 80 characters
}

Summary
ESLint in a Playwright project will detect:

Syntax errors that break code execution.
Potential bugs that cause runtime issues.
Code style inconsistencies for better readability.
Playwright-specific anti-patterns (e.g., missing await, using waitForTimeout).
Best practices for cleaner, safer code.
Security vulnerabilities (e.g., unsafe eval usage).
Formatting issues (with Prettier integration).
Node.js-specific issues for Playwright’s runtime environment.

To see ESLint in action, run npm run lint or rely on VSCode’s real-time feedback. If you want help configuring specific rules or troubleshooting linting issues, let me know!
